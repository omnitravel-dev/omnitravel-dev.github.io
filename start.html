<html>
<!-- Peter Wu | peterwu314 on github-->
<!-- Bharath Hegde | Pacnet-Netty on github -->

<html lang="en">
	<head>
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">

	<title>OmniTravel | Start</title>
	<!-- Bootstrap stuff -->
	<link rel="stylesheet" href="bootstrap.css">
	<link rel="stylesheet" href="bootstrap-theme.css">
		<link rel="stylesheet" href="background.css">
	<link href='http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'> <!-- Lato -->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'> <!-- Open Sans -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	


	</head>

	<body>
	<nav class="navbar navbar-inverse navbar-fixed-top">
	  <div class="container-fluid">
	    <div class="navbar-header">
	      <a class="navbar-brand" href="#" style ="font-family: Lato">OmniTravel</a>
	  </div>
		  <div>
		      <ul class="nav navbar-nav">
		        <li><a href="index.html" style ="font-family: Open Sans">Home</a></li>
		        <li class="active"><a href="start.html" style ="font-family: Open Sans">Start</a></li>
		        <li><a href="legal.html" style ="font-family: Open Sans">Legal</a></li>
		      </ul>
		  </div>
	  </div>
	</nav>
	<br></br>
	<div style="text-align:center; background-image: url(image/sanfransiscobaybridge.jpg); background-repeat: no-repeat;">
		<br></br>
        <h2 style ="color:white; font-family: Open Sans; font-weight: light;">Enter up to 5 different locations you would like to visit:</h2>
        <p style ="font-family: Open Sans">OmniTravel will look for the best hotel closest to each of the locations.</p>
 		<div class="container" id="locations">
		    	<div class="row">

		    		<div class="col-md-6">
		    			<input type="text" class="form-control" id="locations_location1" placeholder="Enter address of the 1st location">
		    		</div>
		      		
		   			<div class="col-md-6">
		    			<input type="text" class="form-control" id="locations_location2" placeholder="Enter address of the 2nd location">
		    		</div>
		     	 
		    	</div>
		    	<br></br>
		    	<div class="row">

		    		<div class="col-md-6">
		    			<input type="text" class="form-control" id="locations_location1" placeholder="Enter address of the 3rd location">
		    		</div>
		      		
		   			<div class="col-md-6">
		    			<input type="text" class="form-control" id="locations_location2" placeholder="Enter address of the 4th location">
		    		</div>
		     	 
		    	</div>
		    	<br></br>
		    	<div class="row" style="text-align:center">
		      		
		   			<div class="col-md-6">
		    			<input type="text" class="form-control" id="locations_location2" placeholder="Enter address of the 5th location">
		    		</div>
		     	 
		    	</div>
		    	<br></br>
					<div id="locationField">
			      		<input type="text" class="form-control" id="locations_cityField" placeholder="Enter a city" type="text" />
			    	</div>

				    <div id="controls">
				      <select id="country">
				        <option value="all">All</option>
				        <option value="au">Australia</option>
				        <option value="br">Brazil</option>
				        <option value="ca">Canada</option>
				        <option value="fr">France</option>
				        <option value="de">Germany</option>
				        <option value="mx">Mexico</option>
				        <option value="nz">New Zealand</option>
				        <option value="it">Italy</option>
				        <option value="za">South Africa</option>
				        <option value="es">Spain</option>
				        <option value="pt">Portugal</option>
				        <option value="us" selected>U.S.A.</option>
				        <option value="uk">United Kingdom</option>
				      </select>
				    </div>

				    
		    	<button id="button_searchhotels" class="btn btn-success btn-lg">Search</button>
	  		
		</div>
	

		 



		
    </div>
	<br></br>
	<br></br>
	<div style="text-align:center" id="displayHotelsDiv">
				
	</div>
		
	
	<div class="navbar navbar-inverse navbar-fixed-bottom">
		<div class="container">
			<p class="navbar-text">Made by Bharath Hegde (<a target="_blank" href="https://github.com/Pacnet-Netty">Pacnet-Netty</a>) and Peter Wu (<a target="_blank" href="https://github.com/peterwu314">peterwu314</a>)</p>
		</div>
	</div>
		
		<script>
			
			function findHotels()
			{
				var nearbyHotels = [];
				var nearbyHotelsLat = [];
				var nearbyHotelsLong = [];

				var geocoder = new google.maps.Geocoder();
				var cityAddress = document.getElementById('locations_cityField').value;
				
				var cityCoordinates = geocodeAddress(geocoder, cityAddress);


				//use google maps api to find nearby hotels in a 400m radius
				$.ajax({
                  url: "https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=" + cityCoordinates + "&radius=400&type=lodging&key=[removed]",
          
                  dataType: "text",
                  success: function(data) {
                
                      var json = $.parseJSON(data);
                      

                      var hotelsList = json.results;

                      var index;
                      for(index = 0; index < hotelsList.length; index++) 
                      {
					  		nearbyHotels.push(hotelsList[index].name);
					  		nearbyHotelsLat.push(hotelsList[index].geometry.location.lat);
					  		nearbyHotelsLong.push(hotelsList[index].geometry.location.lng);
					  } 

                  }
      			});

      			
			}
			
			function initSearchButtonListener()
			{
				
				
				document.getElementById('button_searchhotels').addEventListener('click', function() {
					findHotels();
				  });
			}
			
			
			function geocodeAddress(geocoder, address) {
			  
			  geocoder.geocode({'address': address}, function(results, status) {
				if (status === google.maps.GeocoderStatus.OK) {
				  return results[0].geometry.location.toString();
					
				} else {
				  alert('Could not convert your city address to latitude/longitude for the google maps API: ' + status);
				}
			  });
			}
		
			
			
			

		</script>
		
		<script src="https://maps.googleapis.com/maps/api/js?key=[removed]&signed_in=true&libraries=places&callback=initGeocoder"
		        async defer></script>


	</body>

</html>